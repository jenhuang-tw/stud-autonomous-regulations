import{e as _,f as v,r as k,g as f,h as b,c as s,o as r,a as o,i as w,v as C,j as i,t as d,F as L,k as M}from"./C0ttgeRf.js";import{u as z}from"./BhDIozbf.js";const N={class:"container mx-auto px-4 py-8"},O={class:"mb-8 max-w-2xl mx-auto"},B={key:0,class:"text-center text-lg text-secondary-600 dark:text-secondary-400"},D={key:1,class:"text-center text-red-500 text-lg"},F={key:2},T={key:0,class:"text-center text-lg text-secondary-600 dark:text-secondary-400"},V={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},$=["onClick"],j={class:"text-xl font-semibold text-primary-700 dark:text-primary-300 mb-2"},q={class:"text-secondary-700 dark:text-secondary-300"},E={class:"mt-4 text-sm text-secondary-600 dark:text-secondary-400"},U=_({__name:"index",setup(Q){const m=v(),{organizations:c,loading:y,error:l,fetchOrganizations:h}=z(),n=k("");f(()=>{h()});const u=b(()=>{if(!n.value)return c.value;const a=n.value.toLowerCase();return c.value.filter(e=>e.name.toLowerCase().includes(a)||e.shortName.toLowerCase().includes(a)?!0:e.regulations.some(x=>x.name.toLowerCase().includes(a)||x.shortName.toLowerCase().includes(a)))}),p=a=>{m.push(`/${a}`)};return(a,e)=>(r(),s("div",N,[e[2]||(e[2]=o("h1",{class:"text-4xl font-extrabold text-center text-primary-700 dark:text-primary-300 mb-8"},"臺灣學生自治規章典藏",-1)),o("div",O,[w(o("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>n.value=t),placeholder:"搜尋法規全稱、簡稱或組織名稱...",class:"w-full p-3 border border-secondary-300 dark:border-secondary-600 rounded-lg shadow-sm focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-secondary-700 text-secondary-900 dark:text-secondary-100"},null,512),[[C,n.value]])]),i(y)?(r(),s("div",B,"載入中...")):i(l)?(r(),s("div",D,"錯誤："+d(i(l)),1)):(r(),s("div",F,[e[1]||(e[1]=o("h2",{class:"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-6"},"學生自治組織",-1)),u.value.length===0?(r(),s("div",T," 沒有找到符合條件的組織或法規。 ")):(r(),s("div",V,[(r(!0),s(L,null,M(u.value,t=>(r(),s("div",{key:t.id,class:"bg-white dark:bg-secondary-800 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 p-6 cursor-pointer",onClick:g=>p(t.id)},[o("h3",j,d(t.name),1),o("p",q,d(t.shortName),1),o("div",E," 法規數量："+d(t.regulations.length),1)],8,$))),128))]))]))]))}});export{U as default};
