import{_ as ce}from"./MONnU9wI.js";import{x as de,y as q,r as ee,z as fe,g as G,A as te,p as H,B as pe,C as me,D as K,E as ne,G as he,h as N,H as F,I as C,J as ve,j as oe,e as re,n as ye,c as Q,o as L,b as R,a as $,w as Y,d as ge,K as _e,l as U,_ as we,t as Se,L as be}from"./C0ttgeRf.js";function ke(e){return pe()?(me(e),!0):!1}const I=new WeakMap,Ce=(...e)=>{var t;const n=e[0],o=(t=K())==null?void 0:t.proxy;if(o==null&&!ne())throw new Error("injectLocal must be called in setup");return o&&I.has(o)&&n in I.get(o)?I.get(o)[n]:he(...e)},xe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Me=Object.prototype.toString,Ae=e=>Me.call(e)==="[object Object]",Ee=()=>{};function se(...e){if(e.length!==1)return de(...e);const t=e[0];return typeof t=="function"?q(fe(()=>({get:t,set:Ee}))):ee(t)}function Ne(e,t){function n(...o){return new Promise((s,u)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(s).catch(u)})}return n}const ae=e=>e();function Oe(e=ae,t={}){const{initialState:n="active"}=t,o=se(n==="active");function s(){o.value=!1}function u(){o.value=!0}const d=(...a)=>{o.value&&e(...a)};return{isActive:q(o),pause:s,resume:u,eventFilter:d}}function X(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function J(e){return Array.isArray(e)?e:[e]}function Te(e){return K()}function We(e,t,n={}){const{eventFilter:o=ae,...s}=n;return H(e,Ne(o,t),s)}function je(e,t,n={}){const{eventFilter:o,initialState:s="active",...u}=n,{eventFilter:d,pause:a,resume:l,isActive:i}=Oe(o,{initialState:s});return{stop:We(e,t,{...u,eventFilter:d}),pause:a,resume:l,isActive:i}}function ie(e,t=!0,n){Te()?G(e,n):t?e():te(e)}function De(e,t,n){return H(e,t,{...n,immediate:!0})}const z=xe?window:void 0;function le(e){var t;const n=C(e);return(t=n==null?void 0:n.$el)!=null?t:n}function P(...e){const t=[],n=()=>{t.forEach(a=>a()),t.length=0},o=(a,l,i,f)=>(a.addEventListener(l,i,f),()=>a.removeEventListener(l,i,f)),s=N(()=>{const a=J(C(e[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),u=De(()=>{var a,l;return[(l=(a=s.value)==null?void 0:a.map(i=>le(i)))!=null?l:[z].filter(i=>i!=null),J(C(s.value?e[1]:e[0])),J(oe(s.value?e[2]:e[1])),C(s.value?e[3]:e[2])]},([a,l,i,f])=>{if(n(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(i!=null&&i.length))return;const h=Ae(f)?{...f}:f;t.push(...a.flatMap(b=>l.flatMap(v=>i.map(c=>o(b,v,c,h)))))},{flush:"post"}),d=()=>{u(),n()};return ke(n),d}function Fe(){const e=F(!1),t=K();return t&&G(()=>{e.value=!0},t),e}function Le(e){const t=Fe();return N(()=>(t.value,!!e()))}const ze=Symbol("vueuse-ssr-width");function Ve(){const e=ne()?Ce(ze,null):null;return typeof e=="number"?e:void 0}function Be(e,t={}){const{window:n=z,ssrWidth:o=Ve()}=t,s=Le(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),u=F(typeof o=="number"),d=F(),a=F(!1),l=i=>{a.value=i.matches};return ve(()=>{if(u.value){u.value=!s.value;const i=C(e).split(",");a.value=i.some(f=>{const h=f.includes("not all"),b=f.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),v=f.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let c=!!(b||v);return b&&c&&(c=o>=X(b[1])),v&&c&&(c=o<=X(v[1])),h?!c:c});return}s.value&&(d.value=n.matchMedia(C(e)),a.value=d.value.matches)}),P(d,"change",l,{passive:!0}),N(()=>a.value)}const V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B="__vueuse_ssr_handlers__",Re=$e();function $e(){return B in V||(V[B]=V[B]||{}),V[B]}function ue(e,t){return Re[e]||t}function He(e){return Be("(prefers-color-scheme: dark)",e)}function Ie(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Je={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},Z="vueuse-storage";function Pe(e,t,n,o={}){var s;const{flush:u="pre",deep:d=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:i=!1,shallow:f,window:h=z,eventFilter:b,onError:v=r=>{console.error(r)},initOnMounted:c}=o,y=(f?F:ee)(typeof t=="function"?t():t),w=N(()=>C(e));if(!n)try{n=ue("getDefaultStorage",()=>{var r;return(r=z)==null?void 0:r.localStorage})()}catch(r){v(r)}if(!n)return y;const S=C(t),j=Ie(S),x=(s=o.serializer)!=null?s:Je[j],{pause:m,resume:k}=je(y,()=>M(y.value),{flush:u,deep:d,eventFilter:b});H(w,()=>g(),{flush:u});let O=!1;const T=r=>{c&&!O||g(r)},D=r=>{c&&!O||E(r)};h&&a&&(n instanceof Storage?P(h,"storage",T,{passive:!0}):P(h,Z,D)),c?ie(()=>{O=!0,g()}):g();function W(r,p){if(h){const _={key:w.value,oldValue:r,newValue:p,storageArea:n};h.dispatchEvent(n instanceof Storage?new StorageEvent("storage",_):new CustomEvent(Z,{detail:_}))}}function M(r){try{const p=n.getItem(w.value);if(r==null)W(p,null),n.removeItem(w.value);else{const _=x.write(r);p!==_&&(n.setItem(w.value,_),W(p,_))}}catch(p){v(p)}}function A(r){const p=r?r.newValue:n.getItem(w.value);if(p==null)return l&&S!=null&&n.setItem(w.value,x.write(S)),S;if(!r&&i){const _=x.read(p);return typeof i=="function"?i(_,S):j==="object"&&!Array.isArray(_)?{...S,..._}:_}else return typeof p!="string"?p:x.read(p)}function g(r){if(!(r&&r.storageArea!==n)){if(r&&r.key==null){y.value=S;return}if(!(r&&r.key!==w.value)){m();try{(r==null?void 0:r.newValue)!==x.write(y.value)&&(y.value=A(r))}catch(p){v(p)}finally{r?te(k):k()}}}}function E(r){g(r.detail)}return y}const Ge="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Ke(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:s=z,storage:u,storageKey:d="vueuse-color-scheme",listenToStorageChanges:a=!0,storageRef:l,emitAuto:i,disableTransition:f=!0}=e,h={auto:"",light:"light",dark:"dark",...e.modes||{}},b=He({window:s}),v=N(()=>b.value?"dark":"light"),c=l||(d==null?se(o):Pe(d,o,u,{window:s,listenToStorageChanges:a})),y=N(()=>c.value==="auto"?v.value:c.value),w=ue("updateHTMLAttrs",(m,k,O)=>{const T=typeof m=="string"?s==null?void 0:s.document.querySelector(m):le(m);if(!T)return;const D=new Set,W=new Set;let M=null;if(k==="class"){const g=O.split(/\s/g);Object.values(h).flatMap(E=>(E||"").split(/\s/g)).filter(Boolean).forEach(E=>{g.includes(E)?D.add(E):W.add(E)})}else M={key:k,value:O};if(D.size===0&&W.size===0&&M===null)return;let A;f&&(A=s.document.createElement("style"),A.appendChild(document.createTextNode(Ge)),s.document.head.appendChild(A));for(const g of D)T.classList.add(g);for(const g of W)T.classList.remove(g);M&&T.setAttribute(M.key,M.value),f&&(s.getComputedStyle(A).opacity,document.head.removeChild(A))});function S(m){var k;w(t,n,(k=h[m])!=null?k:m)}function j(m){e.onChanged?e.onChanged(m,S):S(m)}H(y,j,{flush:"post",immediate:!0}),ie(()=>j(y.value));const x=N({get(){return i?c.value:y.value},set(m){c.value=m}});return Object.assign(x,{store:c,system:v,state:y})}const Qe={class:"bg-primary-600 dark:bg-primary-800 text-white shadow-md p-4 flex justify-between items-center"},Ye=re({__name:"AppHeader",setup(e){const t=Ke(),n=()=>{t.preference=t.preference==="dark"?"light":"dark"};return(o,s)=>{const u=ce,d=ye("Icon"),a=_e;return L(),Q("header",Qe,[R(u,{to:"/",class:"text-2xl font-bold"},{default:Y(()=>s[0]||(s[0]=[ge("臺灣學生自治規章典藏")])),_:1,__:[0]}),$("nav",null,[$("button",{onClick:n,class:"p-2 rounded-full hover:bg-primary-700 dark:hover:bg-primary-700 transition-colors"},[R(a,null,{default:Y(()=>[oe(t).preference==="dark"?(L(),U(d,{key:0,name:"heroicons-outline:sun",class:"h-6 w-6"})):(L(),U(d,{key:1,name:"heroicons-outline:moon",class:"h-6 w-6"}))]),_:1})])])])}}}),Ue={},Xe={class:"bg-primary-600 dark:bg-primary-800 text-white p-4 text-center text-sm"};function Ze(e,t){return L(),Q("footer",Xe,[$("p",null,"© "+Se(new Date().getFullYear())+" 臺灣學生自治規章典藏. All rights reserved.",1)])}const qe=we(Ue,[["render",Ze]]),et={class:"min-h-screen flex flex-col"},tt={class:"flex-grow container mx-auto px-4 py-8"},rt=re({__name:"default",setup(e){const t=useColorMode();return G(()=>{window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),t.preference="dark"):(document.documentElement.classList.remove("dark"),t.preference="light")}),(n,o)=>{const s=Ye,u=qe;return L(),Q("div",et,[R(s),$("main",tt,[be(n.$slots,"default")]),R(u)])}}});export{rt as default};
