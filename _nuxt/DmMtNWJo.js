import{_ as U}from"./MONnU9wI.js";import{u as Y,_ as q}from"./BlZaJQsG.js";import{e as M,m as z,g as A,p as G,c as d,b as c,w as H,j as t,t as a,a as o,d as r,q as J,n as K,o as i}from"./C0ttgeRf.js";const O={class:"container mx-auto px-4 py-8"},P={key:0,class:"text-center text-lg text-secondary-600 dark:text-secondary-400"},Q={key:1,class:"text-center text-red-500 text-lg"},W={key:2},X={key:3},Z={class:"text-4xl font-extrabold text-center text-primary-700 dark:text-primary-300 mb-8"},ee={class:"bg-white dark:bg-secondary-800 rounded-lg shadow-md p-6 mb-6"},te={class:"text-secondary-700 dark:text-secondary-300 mb-2"},oe={class:"text-secondary-700 dark:text-secondary-300 mb-2"},se={class:"text-secondary-700 dark:text-secondary-300 mb-2"},ne={class:"text-secondary-700 dark:text-secondary-300"},ae={key:0,class:"text-sm font-normal ml-2"},re={class:"prose dark:prose-invert max-w-none text-secondary-900 dark:text-secondary-100 bg-white dark:bg-secondary-800 p-6 rounded-lg shadow-md overflow-x-auto"},de={class:"whitespace-pre-wrap font-sans"},ie={class:"mt-8 flex justify-center space-x-4"},xe=M({__name:"[ymd]",setup(le){const m=z(),p=m.params.org,u=m.params.regulationId,f=m.params.ymd,{versionsData:x,regulationContent:s,loading:D,error:_,fetchRegulationVersions:E,fetchRegulationContent:B}=Y(),h=async()=>{if(await E(p,u),x.value){const n=`${f}.txt`;x.value.versions.some(l=>l.filename===n)?await B(p,u,n):(_.value="指定法規版本不存在。",s.value=null)}};A(h),G(()=>m.params.ymd,h);const F=()=>{const n=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${n}`,"_blank","width=600,height=400")},L=()=>{const n=encodeURIComponent(window.location.href);window.open(`https://social-plugins.line.me/lineit/share?url=${n}`,"_blank","width=600,height=400")};return(n,e)=>{var y,b,g,w,k,v,I,C,N,R,T,V,$;const l=K("Icon"),j=U,S=q;return i(),d("div",O,[c(j,{to:`/${t(p)}`,class:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:underline mb-6"},{default:H(()=>[c(l,{name:"heroicons-outline:arrow-left",class:"w-5 h-5 mr-1"}),e[0]||(e[0]=r(" 返回組織法規 "))]),_:1,__:[0]},8,["to"]),t(D)?(i(),d("div",P,"載入中...")):t(_)?(i(),d("div",Q,"錯誤："+a(t(_)),1)):!t(x)||!t(s)?(i(),d("div",W,e[1]||(e[1]=[o("h1",{class:"text-4xl font-extrabold text-center text-red-500 mb-8"},"法規版本未找到",-1),o("p",{class:"text-center text-secondary-600 dark:text-secondary-400"},"很抱歉，找不到此法規的指定版本。",-1)]))):(i(),d("div",X,[o("h1",Z,a(((b=(y=t(s))==null?void 0:y.meta)==null?void 0:b.fullTitle)||"法規內容"),1),o("div",ee,[o("p",te,[e[2]||(e[2]=o("span",{class:"font-semibold"},"簡稱：",-1)),r(a((w=(g=t(s))==null?void 0:g.meta)==null?void 0:w.shortTitle),1)]),o("p",oe,[e[3]||(e[3]=o("span",{class:"font-semibold"},"審議註記：",-1)),r(a((v=(k=t(s))==null?void 0:k.meta)==null?void 0:v.note),1)]),o("p",se,[e[4]||(e[4]=o("span",{class:"font-semibold"},"資料來源：",-1)),r(a((C=(I=t(s))==null?void 0:I.meta)==null?void 0:C.source),1)]),o("p",ne,[e[5]||(e[5]=o("span",{class:"font-semibold"},"版本日期：",-1)),r(a((R=(N=t(s))==null?void 0:N.meta)==null?void 0:R.date)+" ",1),(V=(T=t(s))==null?void 0:T.meta)!=null&&V.isCurrent?(i(),d("span",ae,"(最新版)")):J("",!0)])]),c(S,{orgId:t(p),regulationId:t(u),versions:t(x).versions,currentYmd:t(f)},null,8,["orgId","regulationId","versions","currentYmd"]),o("div",re,[o("pre",de,a(($=t(s))==null?void 0:$.content),1)]),o("div",ie,[o("button",{onClick:F,class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full flex items-center"},[c(l,{name:"logos:facebook",class:"w-5 h-5 mr-2"}),e[6]||(e[6]=r("分享到 Facebook "))]),o("button",{onClick:L,class:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full flex items-center"},[c(l,{name:"logos:line",class:"w-5 h-5 mr-2"}),e[7]||(e[7]=r("分享到 LINE "))])])]))])}}});export{xe as default};
