import U from"./BtIUqDQf.js";import{_ as Y}from"./4vsW_JV9.js";import{u as M,_ as q}from"./BLg1C9ui.js";import{e as z,m as A,g as G,n as H,c as d,b as c,w as J,j as e,t as a,a as o,d as r,p as K,o as i}from"./zwJCpbUD.js";const O={class:"container mx-auto px-4 py-8"},P={key:0,class:"text-center text-lg text-secondary-600 dark:text-secondary-400"},Q={key:1,class:"text-center text-red-500 text-lg"},W={key:2},X={key:3},Z={class:"text-4xl font-extrabold text-center text-primary-700 dark:text-primary-300 mb-8"},tt={class:"bg-white dark:bg-secondary-800 rounded-lg shadow-md p-6 mb-6"},et={class:"text-secondary-700 dark:text-secondary-300 mb-2"},ot={class:"text-secondary-700 dark:text-secondary-300 mb-2"},st={class:"text-secondary-700 dark:text-secondary-300 mb-2"},nt={class:"text-secondary-700 dark:text-secondary-300"},at={key:0,class:"text-sm font-normal ml-2"},rt={class:"prose dark:prose-invert max-w-none text-secondary-900 dark:text-secondary-100 bg-white dark:bg-secondary-800 p-6 rounded-lg shadow-md overflow-x-auto"},dt={class:"whitespace-pre-wrap font-sans"},it={class:"mt-8 flex justify-center space-x-4"},ut=z({__name:"[ymd]",setup(lt){const m=A(),p=m.params.org,u=m.params.regulationId,f=m.params.ymd,{versionsData:x,regulationContent:s,loading:D,error:_,fetchRegulationVersions:E,fetchRegulationContent:B}=M(),h=async()=>{if(await E(p,u),x.value){const n=`${f}.txt`;x.value.versions.some(l=>l.filename===n)?await B(p,u,n):(_.value="指定法規版本不存在。",s.value=null)}};G(h),H(()=>m.params.ymd,h);const F=()=>{const n=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${n}`,"_blank","width=600,height=400")},L=()=>{const n=encodeURIComponent(window.location.href);window.open(`https://social-plugins.line.me/lineit/share?url=${n}`,"_blank","width=600,height=400")};return(n,t)=>{var y,b,g,w,k,v,I,C,N,R,T,V,$;const l=U,j=Y,S=q;return i(),d("div",O,[c(j,{to:`/${e(p)}`,class:"inline-flex items-center text-primary-600 dark:text-primary-400 hover:underline mb-6"},{default:J(()=>[c(l,{name:"heroicons-outline:arrow-left",class:"w-5 h-5 mr-1"}),t[0]||(t[0]=r(" 返回自治組織法規清單 "))]),_:1,__:[0]},8,["to"]),e(D)?(i(),d("div",P,"載入中...")):e(_)?(i(),d("div",Q,"錯誤："+a(e(_)),1)):!e(x)||!e(s)?(i(),d("div",W,t[1]||(t[1]=[o("h1",{class:"text-4xl font-extrabold text-center text-red-500 mb-8"},"法規版本未找到",-1),o("p",{class:"text-center text-secondary-600 dark:text-secondary-400"},"很抱歉，找不到此法規的指定版本。",-1)]))):(i(),d("div",X,[o("h1",Z,a(((b=(y=e(s))==null?void 0:y.meta)==null?void 0:b.fullTitle)||"法規內容"),1),o("div",tt,[o("p",et,[t[2]||(t[2]=o("span",{class:"font-semibold"},"簡稱：",-1)),r(a((w=(g=e(s))==null?void 0:g.meta)==null?void 0:w.shortTitle),1)]),o("p",ot,[t[3]||(t[3]=o("span",{class:"font-semibold"},"審議註記：",-1)),r(a((v=(k=e(s))==null?void 0:k.meta)==null?void 0:v.note),1)]),o("p",st,[t[4]||(t[4]=o("span",{class:"font-semibold"},"資料來源：",-1)),r(a((C=(I=e(s))==null?void 0:I.meta)==null?void 0:C.source),1)]),o("p",nt,[t[5]||(t[5]=o("span",{class:"font-semibold"},"版本日期：",-1)),r(a((R=(N=e(s))==null?void 0:N.meta)==null?void 0:R.date)+" ",1),(V=(T=e(s))==null?void 0:T.meta)!=null&&V.isCurrent?(i(),d("span",at,"(最新版)")):K("",!0)])]),c(S,{orgId:e(p),regulationId:e(u),versions:e(x).versions,currentYmd:e(f)},null,8,["orgId","regulationId","versions","currentYmd"]),o("div",rt,[o("pre",dt,a(($=e(s))==null?void 0:$.content),1)]),o("div",it,[o("button",{onClick:F,class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full flex items-center"},[c(l,{name:"logos:facebook",class:"w-5 h-5 mr-2"}),t[6]||(t[6]=r("分享到 Facebook "))]),o("button",{onClick:L,class:"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-full flex items-center"},[c(l,{name:"logos:line",class:"w-5 h-5 mr-2"}),t[7]||(t[7]=r("分享到 LINE "))])])]))])}}});export{ut as default};
